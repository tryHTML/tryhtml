'use strict';

var _ink = require('ink');

var _propTypes = require('prop-types');

var _propTypes2 = _interopRequireDefault(_propTypes);

var _gradientString = require('gradient-string');

var _gradientString2 = _interopRequireDefault(_gradientString);

var _stripAnsi = require('strip-ansi');

var _stripAnsi2 = _interopRequireDefault(_stripAnsi);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

const Gradient = props => {
	if (props.name && props.colors) {
		throw new Error('The `name` and `colors` props are mutually exclusive');
	}

	const gradient = props.name ? _gradientString2.default[props.name] : (0, _gradientString2.default)(props.colors);
	const text = (0, _ink.renderToString)((0, _ink.h)(
		'span',
		null,
		props.children
	));
	return (0, _ink.h)(
		'span',
		null,
		gradient.multiline((0, _stripAnsi2.default)(text))
	);
};

Gradient.propTypes = {
	children: _propTypes2.default.any.isRequired,
	name: _propTypes2.default.oneOf(['cristal', 'teen', 'mind', 'morning', 'vice', 'passion', 'fruit', 'instagram', 'atlas', 'retro', 'summer', 'pastel', 'rainbow']),
	colors: _propTypes2.default.arrayOf(_propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.object]))
};

module.exports = Gradient;
